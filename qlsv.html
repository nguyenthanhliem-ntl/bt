<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="res">

</div>
<script >
    function  Student(mssv, name, toan, ly ,hoa) {
        this.mssv = mssv;
        this.name = name;
        this.toan = toan;
        this.ly = ly ;
        this.hoa = hoa;
        this.dtb = (toan + ly + hoa)/3;
        this.show = function () {
            return "Mssv : " + this.mssv + " Name: " + this.name + " Dtb:  " + this.dtb;
        }
    }

    function QLSV() {
        this.dssv = [new Student(1, "Na",8,8,8),new Student(2, "Long",8,8,8),new Student(3, "Gia",8,8,8)];
        this.add = function (sv) {
            this.dssv.push(sv);
        }
        this.del = function (mssv) {
            for(let i=0;i<this.dssv.length;i++) {
                if (mssv == this.dssv[i].mssv) {
                    this.dssv.splice(i,1);
                }
            }
        }
        this.show = function () {
            let str = "";
            for (let i =0; i< this.dssv.length;i++) {
                str += this.dssv[i].show() + "<br>";
            }
            return str;
        }
        this.edit = function (mssv,sv) {
            for (let i=0;i<this.dssv.length;i++) {
                if(mssv == this.dssv[i].mssv ) {
                    this.dssv[i] = sv;
                }
            }
        }
        this.SX = function () {
            let temp;
            for (let i=0;i<this.dssv.length-1;i++) {
                for (let j=i+1;j<this.dssv.length;j++){
                    if (this.dssv[i].dtb<this.dssv[j].dtb) {
                        temp=this.dssv[i];
                        this.dssv[i]=this.dssv[j];
                        this.dssv[j]=temp;
                    }
                }
            }
            this.dssv.sort(function (a, b) {return b.dtb-a.dtb});
        }
    }
    let qlsv = new QLSV();
    document.getElementById("res").innerHTML = qlsv.show()
    qlsv.add(new Student(4,"Vi" ,9,9,9));
    qlsv.edit(2,new Student(2,"NgÃ¢n",5,5,5));
    //qlsv.dssv.dtb.sort(function (a,b) {return b-a});
    qlsv.SX();
    document.getElementById("res").innerHTML = qlsv.show();
</script>

</body>
</html>